<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>CNOC .:: Dashboard ::.</title>
	<link rel="icon" type="image/x-icon" href="../images/favicon.ico" />
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<!-- Bootstrap 3.3.4 -->
	<link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<!-- Font Awesome Icons -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<!-- Ionicons -->
	<link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css" />
	<!-- daterange picker -->
	<link href="../plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
	<!-- Theme style -->
	<link href="../dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
	<!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
	<link href="../dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
	<!-- DATA TABLES -->
	<link href="../plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
	<link href="../plugins/datatables/extensions/TableTools/css/dataTables.tableTools.min.css" rel="stylesheet" type="text/css" />
	<!-- jQuery Loadmask -->
	<link href="../plugins/jquery-loadmask-0.4/jquery.loadmask.css" rel="stylesheet" type="text/css">
	<!-- Chosen -->
	<link href="../plugins/chosen_v1.4.2/chosen.min.css" rel="stylesheet" type="text/css" />
	<!-- Kendo UI -->
	<!-- <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.common.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.rtl.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.default.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.dataviz.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.dataviz.default.min.css">
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2015.3.930/styles/kendo.mobile.all.min.css">
    
    <link rel="stylesheet" href="//kendo.cdn.telerik.com/2015.3.930/styles/kendo.common-material.min.css" />
    <link rel="stylesheet" href="//kendo.cdn.telerik.com/2015.3.930/styles/kendo.material.min.css" /> -->    
	
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	
	<!-- Page-Level Styles -->
	<style type="text/css">
		.container {
			width: auto;
		}
	</style>

</head>
	
<!-- ADD THE CLASS layout-top-nav TO REMOVE THE SIDEBAR. -->
<body class="skin-blue layout-top-nav">
	<div class="wrapper">
		<header class="main-header">
			<nav class="navbar navbar-static-top">
				<div class="container">
					<div class="navbar-header">
						<a href="../main.jsp" class="navbar-brand">Dashbaord&nbsp;<b>CNOC</b></a>
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
							<i class="fa fa-bars"></i>
						</button>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse pull-left" id="navbar-collapse">
						<form class="navbar-form navbar-left">
							<div class="form-group">
								<select class="form-control" id="selectCustomer"></select>
							</div>
							<!-- /.form-group -->
						</form>
					</div>
					<!-- /.navbar-collapse -->
					<!-- Navbar Right Menu -->
					<div class="navbar-custom-menu">						
						<ul class="nav navbar-nav">
							<li class="dropdown" id="menuContainer">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#">
									<i class="fa fa-dashboard fa-fw"></i>
									<span>Dashboard</span>
									<i class="fa fa-caret-down"></i>
								</a>
								<ul class="dropdown-menu dropdown-user" id="menu_items"></ul>
								<!-- /.dropdown-menu -->
							</li> <!-- /.dropdown -->
							<li class="dropdown" id="userNameContainer">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#">
									<i class="fa fa-user fa-fw"></i>
									<span id="userName"></span>
									<i class="fa fa-caret-down"></i>
								</a>
								<ul class="dropdown-menu dropdown-user">
									<li><a id="logout"><i class="fa fa-sign-out fa-fw"></i>Logout</a></li>
								</ul> <!-- /.dropdown-user -->
							</li> <!-- /.dropdown -->
						</ul>
					</div>
					<!-- /.navbar-custom-menu -->
				</div>
				<!-- /.container-fluid -->
			</nav>
		</header>
		<!-- Full Width Column -->
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Incident Management <small>Search</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="../main.jsp"><i class="fa fa-home"></i> Home</a></li>
					<li><a href="../incidents.jsp"><i class="fa fa-warning"></i> Incidents</a></li>
					<li class="active"><i class="fa fa-search"></i> Advanced Search</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<!-- FORM SEARCH -->				
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">Search Fields</h3>
							<div class="box-tools pull-right">
								<button class="btn btn-box-tool" data-widget="collapse">
									<i class="fa fa-minus"></i>
								</button>
							</div>
					</div>
					<!-- /.box-header -->
					<form id="search_form">
						<div class="box-body">						
							<div class="row">
								<div class="col-md-4">
									<div class="form-group" id=im>
										<label>Incident ID:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-ticket"></i>
											</div>
											<input type="text" class="form-control"
												id="im_input"
												placeholder="IMABC000000" />
										</div>
										<!-- /.input group -->									
									</div>
									<!-- /.form group -->
									<div class="form-group" id="ci_name">
										<label>CI name:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-hdd-o"></i>
											</div>
											<select class="form-control js-example-responsive"
													id="ci_name_input" data-placeholder="Device name">
												<option></option>
											</select>										
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
									<div class="form-group" id="location">
										<label>Location:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-globe"></i>
											</div>
											<select class="form-control js-example-responsive"
													id="location_input" data-placeholder="Location name">
												<option></option>
											</select>										
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
									<div class="form-group" id=im>
										<label>Customer Ticket:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-ticket"></i>
											</div>
											<input type="text" class="form-control"
												id="customer_reference_input"
												placeholder="Customer Ticket" />
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
								</div>
								<!-- /.col -->
								<div class="col-md-4">
									<!-- Date range -->
									<div class="form-group" id="range">
										<label>Date range:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-calendar"></i>
											</div>
											<input type="text" class="form-control pull-right"
												id="range_input" />
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->								
									<div class="form-group" id="ci">
										<label>Unique ID:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-hdd-o"></i>
											</div>
											<select class="form-control js-example-responsive"
													id="unique_id_input" data-placeholder="Configuration Item">
												<option></option>
											</select>										
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
									<div class="form-group" id="location_code">
										<label>Location Code:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-globe"></i>
											</div>
											<select class="form-control js-example-responsive"
													id="location_code_input" data-placeholder="Location Code">
												<option></option>
											</select>										
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
									<div class="form-group" id=im>
										<label>Vendor Ticket:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-ticket"></i>
											</div>
											<input type="text" class="form-control"
												id="vendor_ticket_input"
												placeholder="Vendor Ticket" />
										</div>
										<!-- /.input group -->									
									</div>
									<!-- /.form group -->
								</div>							
								<!-- /.col -->
								<div class="col-md-4">
									<div class="form-group" id="status">
										<label>Status:</label><select
											class="form-control js-example-responsive" id="status_input"
											multiple="multiple" data-placeholder="Select Status">
											<option>OPEN</option>
											<option>CATEGORIZE</option>
											<option>WORK IN PROGRESS</option>
											<option>PENDING CUSTOMER</option>
											<option>PENDING EVIDENCE</option>
											<option>PENDING VENDOR</option>
											<option>PENDING OTHER</option>
											<option>SUSPENDED</option>
											<option>RESOLVED</option>
											<option>Closed</option>
										</select>
									</div>
									<!-- /.form-group -->
									<div class="form-group" id="group">
										<label>Group:</label><select
											class="form-control js-example-responsive" id="group_input"
											multiple="multiple" data-placeholder="Group name">
											<option></option>
										</select>										
									</div>
									<!-- /.form group -->
									<div class="form-group" id="state">
										<label>Location State:</label>
										<div class="input-group">
											<div class="input-group-addon">
												<i class="fa fa-globe"></i>
											</div>
											<select class="form-control js-example-responsive"
													id="state_input" data-placeholder="Location State">
												<option></option>
											</select>										
										</div>
										<!-- /.input group -->
									</div>
									<!-- /.form group -->
								</div>
								<!-- /.col -->
							</div>
							<!-- /.row -->
						</div>
						<!-- /.box-body -->
						<div class="box-footer">
							<button type="button" class="btn btn-default" style="margin-right: 5px;" id="pdf_btn"><i class="fa fa-file-pdf-o"></i> PDF</button>
							<button type="button" class="btn btn-default" style="margin-right: 5px;" id="excel_btn"><i class="fa fa-file-excel-o"></i> Excel</button>
							<button type="submit" class="btn btn-primary pull-right">Search</button>
						</div>
						<!-- /.box-footer -->
					</form>
				</div>
				<!-- /.box -->
				
				<!-- INCIDENT LIST -->
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">Incidents List</h3>
						<div class="box-tools pull-right">
							<button class="btn btn-box-tool" data-widget="collapse">
								<i class="fa fa-minus"></i>
							</button>							
						</div>
					</div>
					<!-- /.box-header -->
					<div class="box-body" id="incidentList">
						<table id="incidentsTable" class="table table-bordered table-striped"></table>
					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.box -->
				
				<!-- INCIDENT ACTIVITIES -->
				<div class="box box-primary">
					<div class="box-header">
						<h3 class="box-title">Activities</h3>
						<div class="box-tools pull-right">
							<button class="btn btn-box-tool" data-widget="collapse">
								<i class="fa fa-minus"></i>
							</button>
						</div>
					</div>
					<!-- /.box-header -->
					<div class="box-body" id="activitiesList">
						<table id="activitiesTable" class="table table-bordered table-striped"></table>
					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.box -->
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->		
		<footer class="main-footer"></footer>
		<!-- Modals -->
		<div class="modal modal-info" id="info_modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Incidents</h4>
					</div>
					<div class="modal-body">
						<p id="modal_body">No data available in table</p>
					</div>
					<div class="modal-footer">						
						<button type="button" class="btn btn-outline" data-dismiss="modal">Close</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
	</div>
	<!-- ./wrapper -->
	
	<div id="pdf_out"></div>
	<!-- ./wrapper -->

	<!-- jQuery 2.1.4 -->
	<script src="../plugins/jQuery/jQuery-2.1.4.min.js" type="text/javascript"></script>
	<!-- Bootstrap 3.3.2 JS -->
	<script src="../bootstrap/js/bootstrap.min.js" type="text/javascript"></script>		
	<!-- date-range-picker -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js" type="text/javascript"></script>
	<script src="../plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>	
	<!-- AdminLTE App -->
	<script src="../dist/js/app.min.js" type="text/javascript"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="../dist/js/demo.js" type="text/javascript"></script>
	<!-- DATA TABES SCRIPT -->
	<script src="../plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
	<script src="../plugins/datatables/dataTables.bootstrap.min.js" type="text/javascript"></script>
	<script src="../plugins/datatables/extensions/TableTools/js/dataTables.tableTools.min.js" type="text/javascript"></script>
	<!-- jQuery Loadmask -->
	<script src="../plugins/jquery-loadmask-0.4/jquery.loadmask.min.js"></script>
	<!-- Chosen -->
	<script src="../plugins/chosen_v1.4.2/chosen.jquery.min.js"></script>
	<!-- Endpoint Properties -->
	<script src="../js/cnoc/endpoint.js"></script>
	<!-- CNOC Framework -->
	<script src="../js/cnoc/cnocFramework.js"></script>
	<!-- CNOC Search Engine -->
	<script src="../js/cnoc/search.js"></script>
	<!-- Navigation Bar -->
	<script src="../js/cnoc/navigation.js"></script>
	<!-- Kendo IU -->    
    <script src="../plugins/kendo/jszip.min.js"></script>
    <script src="../plugins/kendo/kendo.all.min.js"></script>
    <!-- Load Pako ZLIB library to enable PDF compression -->
    <script src="../plugins/pako/pako.min.js"></script>	
    
    <script>
		// Import DejaVu Sans font for embedding

		// NOTE: Only required if the Kendo UI stylesheets are loaded
		// from a different origin, e.g. cdn.kendostatic.com
		kendo.pdf.defineFont({
			"DejaVu Sans"             : "../plugins/kendo/fonts/DejaVuSans.ttf",
			"DejaVu Sans|Bold"        : "../plugins/kendo/fonts/DejaVuSans-Bold.ttf",
			"DejaVu Sans|Bold|Italic" : "../plugins/kendo/fonts/DejaVuSans-Oblique.ttf",
			"DejaVu Sans|Italic"      : "../plugins/kendo/fonts/DejaVuSans-Oblique.ttf"
		});
	</script>

	<!-- Page-Level Scripts -->
	<script>
	    $(document).ready(function() {
	    	
	    	/**** Hide pdf layout ***/
	    	$( '#pdf_out' ).hide();	    	
	    	
			/*** Load Enpoints services ***/
			endpoint.getSearchProperties();
	    	
			/*** Load Navigation Bar & Init function ***/
			navigation.loadUser();			
			navigation.getNetworkCodes(search.init);	    	
	    		        
			/*** Load footer ***/
			$( ".main-footer" ).load( "footer.html" );			
	        
			// Initialize Select Element
			$("#status_input").chosen();
			
			// Date range picker
			$('#range_input').daterangepicker({
				ranges: {
					'Today': [moment(), moment()],
					'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
					'Last 7 Days': [moment().subtract('days', 6), moment()],
					'Last 30 Days': [moment().subtract('days', 29), moment()],
					'This Month': [moment().startOf('month'), moment().endOf('month')],
					'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
				},
				showDropdowns: true
			});
			
			/*** Add Listeners ***/
			search.addlisteners();
			
	    });
    </script>

</body>
</html>